<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#0ea5e9" />
  <title>Falowen Login</title>
  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1220;
      --bg2: #0e172a;
      --card: rgba(255,255,255,0.08);
      --card-opaque: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --border: rgba(255,255,255,0.14);
      --primary: #0ea5e9; /* sky-500 */
      --primary-600: #0284c7;
      --primary-700: #0369a1;
      --accent: #6366f1; /* indigo-500 */
      --success: #22c55e;
      --shadow: 0 10px 30px rgba(2,132,199,0.18), 0 2px 10px rgba(0,0,0,0.2);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f6f8fb;
        --bg2: #eef2ff;
        --card: #ffffff;
        --card-opaque: #ffffff;
        --text: #0f172a;
        --muted: #64748b;
        --border: rgba(15, 23, 42, 0.08);
        --shadow: 0 12px 30px rgba(2,132,199,0.10), 0 2px 8px rgba(2,6,23,0.06);
      }
    }

    /* Reset-ish */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 1200px at -10% -10%, var(--bg2) 0%, transparent 40%),
                  radial-gradient(1000px 1000px at 110% 10%, rgba(99,102,241,0.25) 0%, transparent 40%),
                  linear-gradient(180deg, var(--bg) 0%, #0b1324 100%);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Decorative blobs */
    .decorations::before,
    .decorations::after {
      content: "";
      position: fixed;
      inset: auto auto 10% -120px;
      width: 380px; height: 380px;
      background: radial-gradient(circle at 30% 30%, rgba(14,165,233,0.45), transparent 60%),
                  radial-gradient(circle at 70% 70%, rgba(99,102,241,0.45), transparent 60%);
      filter: blur(60px);
      transform: rotate(12deg);
      z-index: 0;
      pointer-events: none;
    }
    .decorations::after {
      inset: 8% -120px auto auto;
      transform: rotate(-8deg);
      background: radial-gradient(circle at 30% 30%, rgba(99,102,241,0.35), transparent 60%),
                  radial-gradient(circle at 70% 70%, rgba(14,165,233,0.35), transparent 60%);
    }

    /* Shell */
    .shell {
      position: relative;
      max-width: 1120px;
      margin: 48px auto;
      padding: 0 24px;
      z-index: 1;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 28px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .badge {
      width: 36px; height: 36px;
      display: grid; place-items: center;
      background: conic-gradient(from 90deg at 50% 50%, var(--primary), var(--accent));
      color: white;
      border-radius: 10px;
      box-shadow: var(--shadow);
      font-weight: 800;
      letter-spacing: .5px;
    }
    .brand h1 {
      margin: 0;
      font-size: 1.45rem;
      font-weight: 800;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .grid {
      display: grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 28px;
    }
    @media (max-width: 940px) {
      .grid { grid-template-columns: 1fr; }
    }

    @media (max-width: 600px) {
      .shell { margin: 32px auto; padding: 0 16px; }
      .grid { gap: 20px; }
      .hero.card, .login.card { padding: 22px; }
      .login.card { width: 100%; }
      .hero h2 { font-size: 1.75rem; }
    }
    @media (max-width: 480px) {
      .shell { margin: 24px auto; padding: 0 12px; }
      .header { flex-direction: column; align-items: flex-start; gap: 12px; }
      .brand h1 { font-size: 1.25rem; }
      .hero h2 { font-size: 1.5rem; }
      .login.card { padding: 18px; width: 100%; }
    }

    /* Card */
    .card {
      background: var(--card);
      backdrop-filter: saturate(140%) blur(10px);
      -webkit-backdrop-filter: saturate(140%) blur(10px);
      border: 1px solid var(--border);
      border-radius: 18px;
      box-shadow: var(--shadow);
    }

    /* Left column */
    .hero.card { padding: 28px; }
    .hero h2 {
      margin: 0 0 8px;
      font-size: 2rem;
      color: #0ea5e9;
      letter-spacing: -0.02em;
    }
    .hero p { margin: 0; color: var(--muted); line-height: 1.65; }

    .features {
      margin-top: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
    }
    .feature {
      padding: 16px;
      background: var(--card-opaque);
      border: 1px solid var(--border);
      border-radius: 14px;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .feature:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(2,6,23,0.08); }
    .feature h3 { margin: 6px 0 6px; font-size: 1rem; }
    .feature p { margin: 0; color: var(--muted); font-size: .95rem; line-height: 1.55; }
    .icon {
      width: 28px; height: 28px;
      display: grid; place-items: center;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color: white;
      box-shadow: 0 6px 14px rgba(14,165,233,0.32);
    }

    .stats {
      margin-top: 18px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 14px;
    }
    .stat { background: var(--card-opaque); border: 1px solid var(--border); border-radius: 14px; padding: 16px; text-align: center; }
    .stat strong { display: block; font-size: 1.35rem; letter-spacing: -0.02em; }
    .stat span { color: var(--muted); font-size: .92rem; }

    /* Login card */
    .login.card { padding: 26px; align-self: start; }
    .login h3 { margin: 0 0 14px; font-size: 1.15rem; }
    .sub { margin: -6px 0 16px; color: var(--muted); font-size: .92rem; }

    .form {
      display: grid;
      gap: 12px;
    }
    .field { display: grid; gap: 6px; }
    label { font-size: .9rem; font-weight: 600; }
    .input {
      display: grid;
      grid-template-columns: 36px 1fr 36px;
      align-items: center;
      gap: 8px;
      background: var(--card-opaque);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 10px 10px 12px;
      transition: box-shadow .15s ease, border-color .15s ease, transform .06s ease;
    }
    .input:focus-within { border-color: var(--primary); box-shadow: 0 0 0 4px rgba(14,165,233,0.15); }
    .input input {
      width: 100%;
      border: none;
      outline: none;
      background: transparent;
      font-size: 1rem;
      color: var(--text);
    }
    .input button.icon-btn {
      border: none; background: transparent; cursor: pointer; padding: 6px; border-radius: 8px;
    }
    .input button.icon-btn:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

    .row {
      display: flex; align-items: center; justify-content: space-between; margin-top: 2px;
    }
    .row label.inline { font-weight: 500; display: inline-flex; align-items: center; gap: 8px; cursor: pointer; }
    .row input[type="checkbox"] { width: 16px; height: 16px; accent-color: var(--primary); }
    .row a { color: var(--accent); text-decoration: none; font-weight: 600; }

    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; border: none; cursor: pointer; border-radius: 12px; padding: 12px 16px; font-weight: 700; }
    .btn-primary {
      width: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      color: #fff;
      box-shadow: 0 8px 24px rgba(2,132,199,0.35);
      transition: transform .06s ease, filter .2s ease, box-shadow .2s ease;
    }
    .btn-primary:hover { filter: brightness(1.05); box-shadow: 0 14px 28px rgba(2,132,199,0.42); transform: translateY(-1px); }
    .btn-primary:active { transform: translateY(0); }

    .btn-ghost { width: 100%; background: transparent; color: var(--text); border: 1px dashed var(--border); }

    .legal { margin-top: 12px; color: var(--muted); font-size: .85rem; line-height: 1.5; }

    /* Animations */
    [data-animate] { opacity: 0; transform: translateY(10px); animation: fadeUp .6s ease forwards; }
    [data-animate="2"] { animation-delay: .05s; }
    [data-animate="3"] { animation-delay: .1s; }
    [data-animate="4"] { animation-delay: .15s; }
    [data-animate="5"] { animation-delay: .2s; }
    @keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>
  <div class="decorations" aria-hidden="true"></div>
  <div class="shell">

    <header class="header">
      <div class="brand">
        <div class="badge">F</div>
        <h1>Falowen</h1>
      </div>
      <div style="font-weight:600; color: var(--muted);">Learn Language Education Academy</div>
    </header>

    <div class="grid">
      <!-- Left: Hero + Features -->
      <section class="hero card" data-animate>
        <h2>Welcome to Falowen</h2>
        <p>Falowen is an all-in-one German learning platform with courses from A1 to C1, live tutor support, and tools that keep you on track.</p>

        <div class="features">
          <div class="feature" data-animate="2">
            <div class="icon" aria-hidden="true">üìä</div>
            <h3>Dashboard</h3>
            <p>Track streaks, assignment progress, and active contracts at a glance.</p>
          </div>
          <div class="feature" data-animate="3">
            <div class="icon" aria-hidden="true">üìò</div>
            <h3>Course Book</h3>
            <p>Lecture videos, grammar modules, and assignment submissions A1‚ÄìC1.</p>
          </div>
          <div class="feature" data-animate="4">
            <div class="icon" aria-hidden="true">üìù</div>
            <h3>Exams & Quizzes</h3>
            <p>Practice tests and official exam prep‚Äîright in the app.</p>
          </div>
          <div class="feature" data-animate="5">
            <div class="icon" aria-hidden="true">üìì</div>
            <h3>Journal</h3>
            <p>Submit A1‚ÄìC1 writing for free feedback from your tutors.</p>
          </div>
          <div class="feature" data-animate="5">
            <div class="icon" aria-hidden="true">üèÖ</div>
            <h3>Results Tab</h3>
            <p>See your performance history and celebrate improvements.</p>
          </div>
          <div class="feature" data-animate="5">
            <div class="icon" aria-hidden="true">üî§</div>
            <h3>Vocabulary Trainer</h3>
            <p>Spaced repetition quizzes and custom lists that grow with you.</p>
          </div>
        </div>

        <div class="stats">
          <div class="stat" data-animate="2"><strong>300+</strong><span>Active learners</span></div>
          <div class="stat" data-animate="3"><strong>1,200+</strong><span>Assignments submitted</span></div>
          <div class="stat" data-animate="4"><strong>4.5‚òÖ</strong><span>Avg. tutor feedback</span></div>
          <div class="stat" data-animate="5"><strong>100%</strong><span>Course coverage</span></div>
        </div>
      </section>

      <!-- Right: Login -->
      <aside class="login card" data-animate>
        <h3>Sign in to your account</h3>
        <p class="sub">Welcome back! Enter your details to continue.</p>
        <form class="form" onsubmit="handleLogin(event)">
          <div class="field">
            <label for="email">Email</label>
            <div class="input">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7l9 6 9-6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="1.6" fill="none"/></svg>
              <input id="email" type="email" name="email" placeholder="you@example.com" required autocomplete="email" autofocus />
              <span></span>
            </div>
          </div>

          <div class="field">
            <label for="password">Password</label>
            <div class="input">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="3" y="11" width="18" height="10" rx="2" ry="2" stroke="currentColor" stroke-width="1.6"/><path d="M7 11V8a5 5 0 0 1 10 0v3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
              <input id="password" type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required autocomplete="current-password" />
              <button class="icon-btn" type="button" id="togglePass" aria-label="Show password" aria-pressed="false" title="Show/Hide password">
                <svg id="eyeOpen" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7-10-7-10-7Z" stroke="currentColor" stroke-width="1.6"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6"/></svg>
                <svg id="eyeClosed" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display:none"><path d="M3 3l18 18" stroke="currentColor" stroke-width="1.6"/><path d="M10 5.3A11.8 11.8 0 0 1 12 5c6 0 10 7 10 7a18.8 18.8 0 0 1-4.1 4.86" stroke="currentColor" stroke-width="1.6"/><path d="M6.2 6.2A18.6 18.6 0 0 0 2 12s4 7 10 7c1.1 0 2.1-.18 3.1-.49" stroke="currentColor" stroke-width="1.6"/></svg>
              </button>
            </div>
          </div>

          <div class="row">
            <label class="inline"><input type="checkbox" name="remember" /> Remember me</label>
            <a href="#" onclick="alert('Password reset flow coming soon.'); return false;">Forgot password?</a>
          </div>

          <button class="btn btn-primary" type="submit">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Sign In
          </button>
          <button class="btn btn-ghost" type="button" id="googleBtn">Sign in with Google</button>
        </form>
        <p class="legal">By continuing, you agree to our <a href="#" style="color:var(--accent); text-decoration:none; font-weight:600">Terms</a> and <a href="#" style="color:var(--accent); text-decoration:none; font-weight:600">Privacy Policy</a>.</p>
      </aside>
    </div>
  </div>

  <script>
    const GOOGLE_AUTH_URL = "{{GOOGLE_AUTH_URL}}";

    // Password toggle
    const pass = document.getElementById('password');
    const toggle = document.getElementById('togglePass');
    const eyeOpen = document.getElementById('eyeOpen');
    const eyeClosed = document.getElementById('eyeClosed');
    toggle?.addEventListener('click', () => {
      const isHidden = pass.type === 'password';
      pass.type = isHidden ? 'text' : 'password';
      eyeOpen.style.display = isHidden ? 'none' : '';
      eyeClosed.style.display = isHidden ? '' : 'none';
      toggle.setAttribute('aria-pressed', isHidden ? 'true' : 'false');
      toggle.setAttribute('aria-label', isHidden ? 'Hide password' : 'Show password');
    });

    function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      window.parent.postMessage({type: 'streamlit:setComponentValue', value: {action: 'login', email, password}}, '*');
    }

    document.getElementById('googleBtn')?.addEventListener('click', () => {
      if (GOOGLE_AUTH_URL) {
        window.location.href = GOOGLE_AUTH_URL;
      }
    });
  </script>
</body>
</html>